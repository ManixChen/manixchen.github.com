import{af as v,aJ as F,r as V,M as y,c as E,aK as R,aH as b,aL as N,ag as U,m as $,n as x,x as d,A as l,t as m,d as r,bq as I,Z as h,K as w,E as C,ah as P,br as k,bs as q}from"./index-DPMXIFBI.js";import{E as M,a as A,b as B}from"./input-DImnUdse.js";import{u as L}from"./index-CIMYM2YK.js";import"./event-Dou6N3ay.js";import"./index-kq6MkvdM.js";const z=v("register",()=>{const{locale:u,t:e}=F(),f=L(),s=V(),g=y({name:"",email:"",password:"",repassword:""}),i=E(()=>({name:[{required:!0,message:e("login.AccountCannotEmpty"),trigger:"blur"},{min:4,message:e("login.MinUserinfo")},{max:12,message:e("login.MaxUserinfo")}],password:[{required:!0,message:e("login.NeedPassword"),trigger:"blur"},{min:6,message:e("login.PasswordMinChar")},{max:15,message:e("login.PasswordMaxChar")}],repassword:[{required:!0,message:e("register.NeedPassword"),trigger:"blur"},{validator:(p,n,t)=>{n!==g.password?t(new Error(e("register.PasswordNeedSame"))):t()},trigger:"blur"}],email:[{required:!0,message:e("register.NeedEmail"),trigger:"blur"},{pattern:/((\w+)|(\w+[!#$%&'*+\-,./=?^_`{|}~\w]*[!#$%&'*+\-,/=?^_`{|}~\w]))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,10}|[0-9]{1,3})(\]?)/,message:e("register.CorrectEmail"),trigger:"blur"}]}));return{locale:u,registerFormRef:s,contactForm:g,rules:i,submitForm:async p=>{if(!p)return!1;await p.validate((n,t)=>{if(n)R.setCache("cusser_info",JSON.stringify(g)),s.value.resetFields(),b({title:"submit!",message:e("login.SubmitSuccessfully"),type:"success"}),f.whetherRegister();else{let _="";for(let c in t)if(t[c])for(let a in t[c])_+=t[c][a].message+"<br/>";b({title:e("login.WrongInformation"),dangerouslyUseHTMLString:!0,message:_,type:"error",duration:3e3})}})},loginboxStore:f}}),S=u=>(k("data-v-39e8b601"),u=u(),q(),u),H={class:"login-form"},T=S(()=>d("div",null,"Register",-1)),Z={class:"action-footer vertical-align-center"},J={class:"action-footer action-bottom"},K=S(()=>d("footer",null,null,-1)),j={__name:"RegisterForm",setup(u){const e=z(),{registerFormRef:f,contactForm:s,rules:g}=U(e);return(i,o)=>{const p=C,n=M,t=A,_=P,c=B;return $(),x("div",H,[d("header",null,[d("div",null,[l(p,null,{default:m(()=>[l(r(I))]),_:1})]),T]),d("section",null,[l(c,{class:"loginForm",ref_key:"registerFormRef",ref:f,rules:r(g),model:r(s),"label-position":"top",labelSuffix:"",requireAsteriskPosition:"right","label-width":"200px"},{default:m(()=>[l(t,{prop:"name"},{default:m(()=>[l(n,{modelValue:r(s).name,"onUpdate:modelValue":o[0]||(o[0]=a=>r(s).name=a),placeholder:i.$t("login.UserName")},null,8,["modelValue","placeholder"])]),_:1}),l(t,{prop:"email"},{default:m(()=>[l(n,{modelValue:r(s).email,"onUpdate:modelValue":o[1]||(o[1]=a=>r(s).email=a),placeholder:i.$t("register.UserEmail")},null,8,["modelValue","placeholder"])]),_:1}),l(t,{prop:"password"},{default:m(()=>[l(n,{type:"password",modelValue:r(s).password,"onUpdate:modelValue":o[2]||(o[2]=a=>r(s).password=a),placeholder:i.$t("login.Password")},null,8,["modelValue","placeholder"])]),_:1}),l(t,{prop:"repassword"},{default:m(()=>[l(n,{type:"password",modelValue:r(s).repassword,"onUpdate:modelValue":o[3]||(o[3]=a=>r(s).repassword=a),placeholder:i.$t("register.RepeatPassword")},null,8,["modelValue","placeholder"])]),_:1}),d("div",Z,[l(_,{size:"large",type:"primary",round:"",class:"login-circle",onClick:o[4]||(o[4]=a=>r(e).submitForm(r(e).registerFormRef))},{default:m(()=>[h(w(i.$t("login.SignUp")),1)]),_:1})]),d("div",J,[h(w(i.$t("register.HasCount"))+" ",1),d("a",{onClick:o[5]||(o[5]=(...a)=>r(e).loginboxStore.whetherRegister&&r(e).loginboxStore.whetherRegister(...a)),href:"javascript:void(0)"},w(i.$t("register.Login")),1)])]),_:1},8,["rules","model"])]),K])}}},X=N(j,[["__scopeId","data-v-39e8b601"]]);export{X as default};
