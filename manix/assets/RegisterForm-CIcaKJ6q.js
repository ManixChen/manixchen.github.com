import{aJ as E,bj as F,r as S,M as f,m as N,n as R,q as n,A as o,v as u,d as U,bn as $,Z as w,K as c,bk as I,aH as _,E as k,ah as C,bo as P,bp as q}from"./index-CwYgsghi.js";import{E as M,a as A,b as x}from"./input-DaCJmwEr.js";import"./event-DR3-OqvH.js";import"./index-C38Tw09e.js";const b=d=>(P("data-v-9aa832b8"),d=d(),q(),d),B={class:"login-form"},z=b(()=>n("div",null,"Register",-1)),H={class:"action-footer vertical-align-center"},Z={class:"action-footer action-bottom"},j=b(()=>n("footer",null,null,-1)),J={__name:"RegisterForm",props:{whetherRegister:Function},setup(d){const h=d,{locale:L,t:r}=F(),p=S(),s=f({name:"",email:"",password:"",repassword:""}),v=f({name:[{required:!0,message:r("login.AccountCannotEmpty"),trigger:"blur"},{min:4,message:r("login.MinUserinfo")},{max:12,message:r("login.MaxUserinfo")}],password:[{required:!0,message:r("login.NeedPassword"),trigger:"blur"},{min:6,message:r("login.PasswordMinChar")},{max:15,message:r("login.PasswordMaxChar")}],repassword:[{required:!0,message:r("register.NeedPassword"),trigger:"blur"},{validator:(t,e,l)=>{e!==s.password?l(new Error(r("register.PasswordNeedSame"))):l()},trigger:"blur"}],email:[{required:!0,message:r("register.NeedEmail"),trigger:"blur"},{pattern:/((\w+)|(\w+[!#$%&'*+\-,./=?^_`{|}~\w]*[!#$%&'*+\-,/=?^_`{|}~\w]))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,10}|[0-9]{1,3})(\]?)/,message:r("register.CorrectEmail"),trigger:"blur"}]}),V=async t=>{if(!t)return!1;await t.validate((e,l)=>{if(e)I.setCache("cusser_info",JSON.stringify(s)),p.value.resetFields(),_({title:"submit!",message:r("login.SubmitSuccessfully"),type:"success"}),h.whetherRegister();else{let m="";for(let i in l)if(l[i])for(let g in l[i])m+=l[i][g].message+"<br/>";_({title:r("login.WrongInformation"),dangerouslyUseHTMLString:!0,message:m,type:"error",duration:60001})}})};return(t,e)=>{const l=k,m=M,i=A,g=C,y=x;return N(),R("div",B,[n("header",null,[n("div",null,[o(l,null,{default:u(()=>[o(U($))]),_:1})]),z]),n("section",null,[o(y,{class:"loginForm",ref_key:"registerFormRef",ref:p,rules:v,model:s,"label-position":"top",labelSuffix:"",requireAsteriskPosition:"right","label-width":"200px"},{default:u(()=>[o(i,{prop:"name"},{default:u(()=>[o(m,{modelValue:s.name,"onUpdate:modelValue":e[0]||(e[0]=a=>s.name=a),placeholder:t.$t("login.UserName")},null,8,["modelValue","placeholder"])]),_:1}),o(i,{prop:"email"},{default:u(()=>[o(m,{modelValue:s.email,"onUpdate:modelValue":e[1]||(e[1]=a=>s.email=a),placeholder:t.$t("register.UserEmail")},null,8,["modelValue","placeholder"])]),_:1}),o(i,{prop:"password"},{default:u(()=>[o(m,{type:"password",modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=a=>s.password=a),placeholder:t.$t("login.Password")},null,8,["modelValue","placeholder"])]),_:1}),o(i,{prop:"repassword"},{default:u(()=>[o(m,{type:"password",modelValue:s.repassword,"onUpdate:modelValue":e[3]||(e[3]=a=>s.repassword=a),placeholder:t.$t("register.RepeatPassword")},null,8,["modelValue","placeholder"])]),_:1}),n("div",H,[o(g,{size:"large",type:"primary",round:"",class:"login-circle",onClick:e[4]||(e[4]=a=>V(p.value))},{default:u(()=>[w(c(t.$t("login.SignUp")),1)]),_:1})]),n("div",Z,[w(c(t.$t("register.HasCount"))+" ",1),n("a",{onClick:e[5]||(e[5]=(...a)=>d.whetherRegister&&d.whetherRegister(...a)),href:"javascript:void(0)"},c(t.$t("register.Login")),1)])]),_:1},8,["rules","model"])]),j])}}},W=E(J,[["__scopeId","data-v-9aa832b8"]]);export{W as default};
